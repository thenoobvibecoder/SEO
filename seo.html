<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Analyzer</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        form { margin-bottom: 20px; }
        input, textarea, button { padding: 10px; margin: 5px 0; width: 100%; box-sizing: border-box; }
        textarea { height: 200px; }
        #results { display: none; }
        #error { color: red; }
        #loading { display: none; font-style: italic; }
        .section { margin-top: 20px; border-top: 1px solid #ddd; padding-top: 10px; }
        ul { list-style-type: disc; padding-left: 20px; }
    </style>
</head>
<body>
    <h1>SEO Analyzer</h1>
    <p>Enter your content details to analyze SEO score, get improvement suggestions, an optimized slug, meta description, and more.</p>
    <form id="seoForm">
        <label for="title">Page Title:</label>
        <input type="text" id="title" required placeholder="e.g., My Awesome Blog Post">

        <label for="primaryKeyword">Primary Keyword:</label>
        <input type="text" id="primaryKeyword" required placeholder="e.g., seo tips">

        <label for="content">Content (paste your article text here):</label>
        <textarea id="content" required></textarea>

        <button type="submit">Analyze SEO</button>
    </form>
    
    <p id="loading">Analyzing...</p>
    <p id="error"></p>
    
    <div id="results">
        <h2>Analysis Results</h2>
        
        <div class="section">
            <h3>SEO Score</h3>
            <p id="seoScore"></p>
        </div>
        
        <div class="section">
            <h3>Improvement Instructions</h3>
            <ul id="improvements"></ul>
        </div>
        
        <div class="section">
            <h3>SEO-Optimized Slug</h3>
            <p id="slug"></p>
        </div>
        
        <div class="section">
            <h3>Meta Description</h3>
            <p id="metaDesc"></p>
        </div>
        
        <div class="section">
            <h3>Other SEO Recommendations</h3>
            <ul id="otherRecs"></ul>
        </div>
    </div>

    <script>
        const form = document.getElementById('seoForm');
        const loading = document.getElementById('loading');
        const error = document.getElementById('error');
        const results = document.getElementById('results');
        const seoScoreEl = document.getElementById('seoScore');
        const improvementsEl = document.getElementById('improvements');
        const slugEl = document.getElementById('slug');
        const metaDescEl = document.getElementById('metaDesc');
        const otherRecsEl = document.getElementById('otherRecs');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            error.textContent = '';
            results.style.display = 'none';
            loading.style.display = 'block';
            improvementsEl.innerHTML = '';
            otherRecsEl.innerHTML = '';

            const title = document.getElementById('title').value.trim();
            const primaryKeyword = document.getElementById('primaryKeyword').value.trim().toLowerCase();
            const content = document.getElementById('content').value.trim();

            if (!title || !primaryKeyword || !content) {
                error.textContent = 'All fields are required.';
                loading.style.display = 'none';
                return;
            }

            // Simulate async analysis (for UX)
            setTimeout(() => {
                try {
                    // Basic SEO Analysis Functions
                    const words = content.split(/\s+/).filter(word => word.length > 0);
                    const wordCount = words.length;

                    // Keyword Density
                    const keywordCount = words.filter(word => word.toLowerCase() === primaryKeyword.split(' ')[0]).length; // Simple, assumes single word or first word
                    const density = (keywordCount / wordCount) * 100;

                    // Headings (assume content has HTML-like tags or detect # for markdown)
                    const h1Count = (content.match(/<h1>|#/gi) || []).length;
                    const h2Count = (content.match(/<h2>|##/gi) || []).length;

                    // Readability (Flesch-Kincaid approx)
                    const sentences = content.split(/[.!?]+/).length;
                    const syllables = words.reduce((acc, word) => acc + (word.match(/[aeiouy]{1,2}/gi) || []).length, 0);
                    const flesch = 206.835 - 1.015 * (wordCount / sentences) - 84.6 * (syllables / wordCount);

                    // Score Calculation (0-100)
                    let score = 0;
                    if (wordCount > 300) score += 20;
                    if (density > 1 && density < 3) score += 20;
                    if (h1Count >= 1) score += 15;
                    if (h2Count >= 2) score += 15;
                    if (flesch > 60) score += 15; // Easy to read
                    if (content.includes('alt="')) score += 15; // Assume image alts

                    // Improvements
                    const improvements = [];
                    if (wordCount < 300) improvements.push('Increase content length to at least 300 words for better SEO.');
                    if (density < 1) improvements.push('Increase keyword density to 1-3% by naturally incorporating the primary keyword.');
                    if (density > 3) improvements.push('Reduce keyword density to avoid stuffing; aim for 1-3%.');
                    if (h1Count < 1) improvements.push('Add at least one H1 heading containing the primary keyword.');
                    if (h2Count < 2) improvements.push('Add more H2 subheadings for better structure.');
                    if (flesch < 60) improvements.push('Improve readability by using shorter sentences and simpler words.');
                    if (!content.includes('alt="')) improvements.push('Add images with descriptive alt texts including keywords.');

                    // Slug
                    const slug = title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');

                    // Meta Description (first 150 chars + ellipsis)
                    const metaDesc = content.substring(0, 160).trim() + (content.length > 160 ? '...' : '');

                    // Other Recs
                    const otherRecs = [
                        `Suggested Title: ${primaryKeyword.charAt(0).toUpperCase() + primaryKeyword.slice(1)} - ${title}`,
                        'Include internal/external links for better authority.',
                        'Ensure mobile-friendliness (use responsive design).',
                        'Optimize images for speed if applicable.',
                        `Top Keywords: ${getTopKeywords(words).join(', ')}` // Simple freq
                    ];

                    // Display
                    seoScoreEl.textContent = `${score}/100`;
                    improvements.forEach(rec => {
                        const li = document.createElement('li');
                        li.textContent = rec;
                        improvementsEl.appendChild(li);
                    });
                    slugEl.textContent = `/${slug}`;
                    metaDescEl.textContent = metaDesc;
                    otherRecs.forEach(rec => {
                        const li = document.createElement('li');
                        li.textContent = rec;
                        otherRecsEl.appendChild(li);
                    });

                    results.style.display = 'block';
                } catch (err) {
                    error.textContent = `Error: ${err.message}`;
                } finally {
                    loading.style.display = 'none';
                }
            }, 500); // Fake delay
        });

        function getTopKeywords(words) {
            const freq = {};
            words.forEach(word => {
                word = word.toLowerCase().replace(/[^a-z]/g, '');
                if (word.length > 3) freq[word] = (freq[word] || 0) + 1;
            });
            return Object.keys(freq).sort((a, b) => freq[b] - freq[a]).slice(0, 5);
        }
    </script>
</body>
</html>
